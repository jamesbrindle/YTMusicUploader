\label{index_md_D}%
\Hypertarget{index_md_D}%
\+:\+\_\+\+Repositories\+\_\+\+Y\+T\+Music\+Uploader\+\_\+\+R\+E\+A\+D\+ME

\href{https://github.com/jamesbrindle/YTMusicUploader}{\texttt{ }} ~

Automatically upload your local personal music library to You\+Tube Music and bulk delete from You\+Tube Music. ~ ~

{\bfseries{\href{https://github.com/jamesbrindle/YTMusicUploader/releases/tag/v1.7.8}{\texttt{ Download Version 1.\+7.\+8 Installer}}}} ~ ~

~ ~

\href{https://www.buymeacoffee.com/jamiebrindle}{\texttt{ }}

~ ~\hypertarget{index_autotoc_md1}{}\doxysubsection{Application}\label{index_autotoc_md1}
This is a .Net application written in C\# that uploads your personal music library to You\+Tube. It has a minimalistic UI for basic settings such as\+:


\begin{DoxyItemize}
\item Choosing library folders.
\item Option to start the application with Windows (will start hidden, accessible via the \mbox{\hyperlink{namespace_system}{System}} Tray)\+:
\end{DoxyItemize}

\href{https://github.com/jamesbrindle/YTMusicUploader}{\texttt{ }}


\begin{DoxyItemize}
\item Option to throttle the upload speed so it doesn\textquotesingle{}t use all your bandwidth.
\end{DoxyItemize}

~

\href{https://github.com/jamesbrindle/YTMusicUploader}{\texttt{ }}

\href{https://github.com/jamesbrindle/YTMusicUploader}{\texttt{ }}

\href{https://github.com/jamesbrindle/YTMusicUploader}{\texttt{ }} ~ ~\hypertarget{index_autotoc_md2}{}\doxysubsection{Features}\label{index_autotoc_md2}

\begin{DoxyItemize}
\item Connect and authenticate with You\+Tube Music.
\item Upload music to You\+Tube Music.
\item Automatic creation of You\+Tube Music playlists from local .m3u, .m3u8, .wpl, .pls, ,zpl playlist files.
\item Delete uploaded music from You\+Tube Music.
\item Delete playlists from You\+Tube Music.
\item Checks You\+Tube Music to see if the music file has already been uploaded. {\itshape {\bfseries{It will perform this check once per month on all watched library files and is quite dependant on music file meta data being present and accurate.}}}
\item Add and remove library watch folders.
\item File system watcher to monitor for changes in watched folders.
\item Throttle upload bandwidth.
\item Start with Windows, minimized to the system tray area.
\item Reads music file tags, including cover art thumbnail.
\item If not all data is found in the tags of the music file, it will use the Music\+Brainz A\+PI to look it up (including the cover art thumbail) (Fetching the details is purely for UI purposes. It has now impact of uploading to You\+Tube and doesn\textquotesingle{}t write the results to the music file).
\item Show an upload log dialogue.
\item Show an issues log dialogue.
\end{DoxyItemize}

~
\begin{DoxyItemize}
\item {\bfseries{This application does not send any telemetry data of any kind to its source if the \textquotesingle{}Send Diagnostic Data\textquotesingle{} checkbox is not set\textquotesingle{}}}
\item {\bfseries{Valid music file formats are the same as You\+Tube Music\+: .flac, .m4a, .mp3, .oga, .wma}}
\item {\bfseries{Valid music playlist file formats are\+: .m3u, .m3u8, .wpl, .pls, .zpl}}
\item {\bfseries{Maximum number of files you can upload to You\+Tube Music is 100, 000}}
\item {\bfseries{Maximum number of playlist items You\+Tube Music will allow is 5,000}}
\item {\bfseries{Maximum file size You\+Tube Music will allow is 300 MB}}
\item {\bfseries{Although you have the ability to delete from You\+Tube Music within the app, this application is strictly a one way synchronisation app.}} ~
\end{DoxyItemize}

~\hypertarget{index_autotoc_md3}{}\doxysubsection{Reason for Creation}\label{index_autotoc_md3}
I used to have Google Play music and liked uploading my own content via its automatic library uploader application; I have a large library of music and you could stream your own uploaded songs from Google Play music without paying for a subscription...

Google Play music is on its way out in December and its replacement, You\+Tube Music doesn\textquotesingle{}t currently have a library watcher application. You can only drag and drop manually into the browser for a limited number of songs... So, I decided to create one.

I got a subscription in the end, so some might consider this pointless in the world of streaming anything you want these days... So I suppose the only real benefit is the ability to\+:


\begin{DoxyItemize}
\item Upload songs that aren\textquotesingle{}t on You\+Tube music.
\item Backup your songs $\ast$(you can\textquotesingle{}t download them again from You\+Tube music, but you can use \href{https://takeout.google.com/settings/takeout?pli=1}{\texttt{ Google Takeout}} to get them).$\ast$ ~ ~
\end{DoxyItemize}\hypertarget{index_autotoc_md4}{}\doxysubsection{How it Works}\label{index_autotoc_md4}
Since, as far as I\textquotesingle{}m aware, You\+Tube Music doesn\textquotesingle{}t have an official A\+PI to utilise. Therefore this application mimics the H\+T\+TP request and responses from the You\+Tube music site uses (F12 in Firefox is your friend).

You\+Tube Music uses an authentication cookie, and an authentication header consisting of a S\+A\+P\+I\+S\+ID hash from the cookie itself. Therefore, this application needs a browser so you can sign into You\+Tube in order to retrieve said cookie\+: ~

\href{https://github.com/jamesbrindle/YTMusicUploader}{\texttt{ }}

\href{https://github.com/jamesbrindle/YTMusicUploader}{\texttt{ }}

\href{https://github.com/jamesbrindle/YTMusicUploader}{\texttt{ }} ~\hypertarget{index_autotoc_md5}{}\doxysubsection{Technology}\label{index_autotoc_md5}

\begin{DoxyItemize}
\item .Net 4.\+7.\+2
\item Win\+Forms
\item S\+Q\+Lite ~ ~
\end{DoxyItemize}\hypertarget{index_autotoc_md6}{}\doxysubsection{I\+D\+E / Extensions}\label{index_autotoc_md6}

\begin{DoxyItemize}
\item Microsoft Visual Studio 2019
\item Microsoft Visual Studio Installer Project ~ ~
\end{DoxyItemize}\hypertarget{index_autotoc_md7}{}\doxysubsection{Libraries}\label{index_autotoc_md7}

\begin{DoxyItemize}
\item \href{https://www.nuget.org/packages/Brotli.NET}{\texttt{ Brotli.\+Net (Decompress Google H\+T\+TP resonse body)}}
\item \href{https://www.nuget.org/packages/System.Data.HashFunction.xxHash/}{\texttt{ xx\+Hash -\/ Fast file hash generator}}
\item \href{https://github.com/StackExchange/Dapper}{\texttt{ Dapper}}
\item \href{https://github.com/dennismagno/metroframework-modern-ui}{\texttt{ Metro Framework (UI Styling)}}
\item \href{http://www.ookii.org/software/dialogs}{\texttt{ Ookii Dialogues}}
\item \href{https://github.com/Zastai/MetaBrainz.Common.Json}{\texttt{ Music\+Brainz A\+PI -\/ Zastai}}
\item \href{https://github.com/Zastai/MetaBrainz.MusicBrainz.CoverArt}{\texttt{ Music\+Brainz Cover\+Art -\/ Zastai}}
\item \href{https://github.com/avatar29A/MusicBrainz}{\texttt{ Music\+Brainz A\+PI implementation}}
\item \href{https://www.nuget.org/packages/TagLibSharp/}{\texttt{ Tag\+Lib\+Sharp -\/ Read music file tags}} ~ ~
\end{DoxyItemize}\hypertarget{index_autotoc_md8}{}\doxysubsection{Tools}\label{index_autotoc_md8}

\begin{DoxyItemize}
\item \href{https://www.doxygen.nl/index.html}{\texttt{ Doxygen (Source code H\+T\+ML documentation)}} ~ ~
\end{DoxyItemize}\hypertarget{index_autotoc_md9}{}\doxysubsection{Web Control}\label{index_autotoc_md9}

\begin{DoxyItemize}
\item \href{https://docs.microsoft.com/en-us/microsoft-edge/webview2/}{\texttt{ Web\+View2}} ~
\end{DoxyItemize}

{\bfseries{Web\+View2}} is a new web control plugin for W\+PF and Win\+Forms that uses Microsoft Edge. At the time of writing it\textquotesingle{}s still in its infancy and has been very prone to error. The reason it\textquotesingle{}s used here is because it seems to be the only web control that\textquotesingle{}s able to view You\+Tube Music.

Using the native W\+PF or Win\+Forms web control or Gecko\+FX you just get a web page asking to update the browser. Using Cef\+Sharp you get a page telling you the browser isn\textquotesingle{}t secure enough.

I believe I\textquotesingle{}ve managed to get it stable, technically you need the latest Edge or maybe even still the version of \href{https://www.microsoftedgeinsider.com/en-us/download}{\texttt{ Microsoft Edge from the Canary Channel\+:}}). {\bfseries{The YT Music Uploader Application self-\/contains the files needed for this dependency for convenience so you shouldn\textquotesingle{}t need to install anything else other than this app.}}

Despite some of the issues found using this control, it is actually a very good browser control. It\textquotesingle{}s fast, uses little system resources and renders everything very nicely. ~ ~

{\bfseries{G\+O\+T\+C\+H\+AS}} ~

One thing to bear in mind, is that it requires a writable location for cache files (and other random files), and you need to set this up {\bfseries{before}} navigating to any U\+RL\+: ~


\begin{DoxyCode}{0}
\DoxyCodeLine{private async void InitializeBrowser()}
\DoxyCodeLine{\{}
\DoxyCodeLine{    var env = await CoreWebView2Environment.CreateAsync(Global.EdgeFolder, Global.AppDataLocation);}
\DoxyCodeLine{    await browser.EnsureCoreWebView2Async(env);}
\DoxyCodeLine{    browser.Source = new Uri("https://music.youtube.com/", UriKind.Absolute);}
\DoxyCodeLine{\}}
\end{DoxyCode}


Thank you \href{https://github.com/DjSt3rios}{\texttt{ Dj\+St3rios}} for working that out\+: \href{https://github.com/MicrosoftEdge/WebViewFeedback/issues/297}{\texttt{ https\+://github.\+com/\+Microsoft\+Edge/\+Web\+View\+Feedback/issues/297}}

Also, you need to wait for the ready state of the Core\+Web\+View2\+Web\+Resource context before trying to read any properties from it (like the request headers). This is easily achievable with events\+: ~


\begin{DoxyCode}{0}
\DoxyCodeLine{private void Browser\_CoreWebView2Ready(object sender, EventArgs e)}
\DoxyCodeLine{\{}
\DoxyCodeLine{    browser.CoreWebView2.AddWebResourceRequestedFilter("*", CoreWebView2WebResourceContext.All);}
\DoxyCodeLine{    browser.CoreWebView2.WebResourceRequested += CoreWebView2\_WebResourceRequested;}
\DoxyCodeLine{\}}
\end{DoxyCode}
\hypertarget{index_autotoc_md10}{}\doxysubsection{How Long Will This Application Last?}\label{index_autotoc_md10}
Who knows... It\textquotesingle{}s dependent on You\+Tube Music / Google not changing how their \textquotesingle{}non-\/public\textquotesingle{} A\+PI methods are stuctured and work. Considering You\+Tube Music has only just recently added the ability to upload songs (and thus is very new), I suspect it\textquotesingle{}s likely to change as You\+Tube Music develops...

I\textquotesingle{}m going to be using this application for personal use, so I\textquotesingle{}ll know straight away when it\textquotesingle{}s not working and will attempt to update the A\+PI call implementation as soon as possible. ~ ~\hypertarget{index_autotoc_md11}{}\doxysubsection{Special Thanks}\label{index_autotoc_md11}

\begin{DoxyItemize}
\item \href{https://ytmusicapi.readthedocs.io/en/latest/}{\texttt{ sigma67}} -\/ Who created a Python You\+Tube Music A\+PI that I could reference. \href{https://github.com/sigma67/ytmusicapi}{\texttt{ sigma67\+: Github}}.
\item \href{https://www.codeproject.com/Articles/38959/A-Faster-Directory-Enumerator}{\texttt{ wilsone8}} -\/ Who created a very fast Windows directory enumerator.
\item \href{https://stackoverflow.com/users/984724/dave-thomas}{\texttt{ Dave Thomas}} -\/ Who worked out how to get the S\+A\+P\+I\+S\+ID hash from the the You\+Tube Music authentication cookie on a post on \href{https://stackoverflow.com/a/32065323/5726546}{\texttt{ Stack\+Overflow}}.
\item \href{https://stackoverflow.com/users/909365/0xdeadbeef}{\texttt{ 0x\+D\+E\+A\+D\+B\+E\+EF}} -\/ Who made a simple class to bandwidth throttle a byte stream on a post on \href{https://stackoverflow.com/questions/371032/bandwidth-throttling-in-c-sharp}{\texttt{ Stack\+Overflow}}.
\item \href{https://github.com/avatar29A/MusicBrainz}{\texttt{ avatar29A}} -\/ For the Music\+Brainz .Net A\+PI implementation.
\item \href{https://github.com/DjSt3rios}{\texttt{ Dj\+St3rios}} -\/ For some Web\+View2 insight.
\item \href{https://github.com/tmk907}{\texttt{ tmk907}} -\/ Who created a very good, easy to use, multi-\/type playlist reader. \href{https://github.com/tmk907/PlaylistsNET}{\texttt{ tmk907\+: Github}}.
\end{DoxyItemize}

~

\href{https://www.buymeacoffee.com/jamiebrindle}{\texttt{ }} 